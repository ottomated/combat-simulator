(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[5],{"/VUz":function(e,t,r){"use strict";var a=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r("q1tI")),o=(0,a(r("8/g6")).default)(n.default.createElement("path",{d:"M14 6l-4.22 5.63 1.25 1.67L14 9.33 19 16h-8.46l-4.01-5.37L1 18h22L14 6zM5 16l1.52-2.03L8.04 16H5z"}),"FilterHdrOutlined");t.default=o},"I+XF":function(e,t,r){"use strict";var a=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r("q1tI")),o=(0,a(r("8/g6")).default)(n.default.createElement(n.default.Fragment,null,n.default.createElement("path",{d:"M16.56 8.94L7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12zM5.21 10L10 5.21 14.79 10H5.21zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5z"}),n.default.createElement("path",{fillOpacity:".36",d:"M0 20h24v4H0v-4z"})),"FormatColorFillOutlined");t.default=o},QVMT:function(e,t,r){"use strict";r.r(t),r.d(t,"getCanvasScalar",(function(){return de})),r.d(t,"default",(function(){return fe}));var a=r("wx14"),n=r("ODXe"),o=r("q1tI"),i=r.n(o),c=r("eYF9"),l=r("R/WZ"),u=r("l3Wi"),s=r("kKAo"),d=r("ofer"),f=r("KQm4"),v=r("Ff2n"),m=(r("17x9"),r("iuhU")),b=r("H2TA"),h=r("tr08"),p=r("ye/S"),g=r("G7As"),x=r("gk1O"),y=r("Ovef"),C=r("bfFb"),O=r("NqtD"),w=r("yCxk");var j=Object(b.a)((function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:Object(a.a)({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(e){var t=e.children,r=e.classes,a=e.className,n=e.open,i=e.value,c=e.valueLabelDisplay;return"off"===c?t:o.cloneElement(t,{className:Object(m.a)(t.props.className,(n||"on"===c)&&r.open,r.thumb)},o.createElement("span",{className:Object(m.a)(r.offset,a)},o.createElement("span",{className:r.circle},o.createElement("span",{className:r.label},i))))}));function M(e,t){return e-t}function L(e,t,r){return Math.min(Math.max(t,e),r)}function k(e,t){return e.reduce((function(e,r,a){var n=Math.abs(t-r);return null===e||n<e.distance||n===e.distance?{distance:n,index:a}:e}),null).index}function z(e,t){if(void 0!==t.current&&e.changedTouches){for(var r=0;r<e.changedTouches.length;r+=1){var a=e.changedTouches[r];if(a.identifier===t.current)return{x:a.clientX,y:a.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function E(e,t,r){return 100*(e-t)/(r-t)}function S(e,t,r){var a=Math.round((e-r)/t)*t+r;return Number(a.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),r=t[0].split(".")[1];return(r?r.length:0)+parseInt(t[1],10)}var a=e.toString().split(".")[1];return a?a.length:0}(t)))}function I(e){var t=e.values,r=e.source,a=e.newValue,n=e.index;if(t[n]===a)return r;var o=t.slice();return o[n]=a,o}function A(e){var t=e.sliderRef,r=e.activeIndex,a=e.setActive;t.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===r||t.current.querySelector('[role="slider"][data-index="'.concat(r,'"]')).focus(),a&&a(r)}var T={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},R=function(e){return e},V=o.forwardRef((function(e,t){var r=e["aria-label"],i=e["aria-labelledby"],c=e["aria-valuetext"],l=e.classes,u=e.className,s=e.color,d=void 0===s?"primary":s,b=e.component,p=void 0===b?"span":b,V=e.defaultValue,N=e.disabled,P=void 0!==N&&N,F=e.getAriaLabel,H=e.getAriaValueText,D=e.marks,_=void 0!==D&&D,$=e.max,Y=void 0===$?100:$,B=e.min,q=void 0===B?0:B,U=e.name,X=e.onChange,W=e.onChangeCommitted,Z=e.onMouseDown,J=e.orientation,K=void 0===J?"horizontal":J,Q=e.scale,G=void 0===Q?R:Q,ee=e.step,te=void 0===ee?1:ee,re=e.ThumbComponent,ae=void 0===re?"span":re,ne=e.track,oe=void 0===ne?"normal":ne,ie=e.value,ce=e.ValueLabelComponent,le=void 0===ce?j:ce,ue=e.valueLabelDisplay,se=void 0===ue?"off":ue,de=e.valueLabelFormat,fe=void 0===de?R:de,ve=Object(v.a)(e,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),me=Object(h.a)(),be=o.useRef(),he=o.useState(-1),pe=he[0],ge=he[1],xe=o.useState(-1),ye=xe[0],Ce=xe[1],Oe=Object(w.a)({controlled:ie,default:V,name:"Slider"}),we=Object(n.a)(Oe,2),je=we[0],Me=we[1],Le=Array.isArray(je),ke=Le?je.slice().sort(M):[je];ke=ke.map((function(e){return L(e,q,Y)}));var ze=!0===_&&null!==te?Object(f.a)(Array(Math.floor((Y-q)/te)+1)).map((function(e,t){return{value:q+te*t}})):_||[],Ee=Object(g.a)(),Se=Ee.isFocusVisible,Ie=Ee.onBlurVisible,Ae=Ee.ref,Te=o.useState(-1),Re=Te[0],Ve=Te[1],Ne=o.useRef(),Pe=Object(C.a)(Ae,Ne),Fe=Object(C.a)(t,Pe),He=Object(y.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));Se(e)&&Ve(t),Ce(t)})),De=Object(y.a)((function(){-1!==Re&&(Ve(-1),Ie()),Ce(-1)})),_e=Object(y.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));Ce(t)})),$e=Object(y.a)((function(){Ce(-1)})),Ye="rtl"===me.direction,Be=Object(y.a)((function(e){var t,r=Number(e.currentTarget.getAttribute("data-index")),a=ke[r],n=(Y-q)/10,o=ze.map((function(e){return e.value})),i=o.indexOf(a),c=Ye?"ArrowLeft":"ArrowRight",l=Ye?"ArrowRight":"ArrowLeft";switch(e.key){case"Home":t=q;break;case"End":t=Y;break;case"PageUp":te&&(t=a+n);break;case"PageDown":te&&(t=a-n);break;case c:case"ArrowUp":t=te?a+te:o[i+1]||o[o.length-1];break;case l:case"ArrowDown":t=te?a-te:o[i-1]||o[0];break;default:return}if(e.preventDefault(),te&&(t=S(t,te,q)),t=L(t,q,Y),Le){var u=t;t=I({values:ke,source:je,newValue:t,index:r}).sort(M),A({sliderRef:Ne,activeIndex:t.indexOf(u)})}Me(t),Ve(r),X&&X(e,t),W&&W(e,t)})),qe=o.useRef(),Ue=K;Ye&&"vertical"!==K&&(Ue+="-reverse");var Xe=function(e){var t,r,a=e.finger,n=e.move,o=void 0!==n&&n,i=e.values,c=e.source,l=Ne.current.getBoundingClientRect(),u=l.width,s=l.height,d=l.bottom,f=l.left;if(t=0===Ue.indexOf("vertical")?(d-a.y)/s:(a.x-f)/u,-1!==Ue.indexOf("-reverse")&&(t=1-t),r=function(e,t,r){return(r-t)*e+t}(t,q,Y),te)r=S(r,te,q);else{var v=ze.map((function(e){return e.value}));r=v[k(v,r)]}r=L(r,q,Y);var m=0;if(Le){var b=r;m=(r=I({values:i,source:c,newValue:r,index:m=o?qe.current:k(i,r)}).sort(M)).indexOf(b),qe.current=m}return{newValue:r,activeIndex:m}},We=Object(y.a)((function(e){var t=z(e,be);if(t){var r=Xe({finger:t,move:!0,values:ke,source:je}),a=r.newValue,n=r.activeIndex;A({sliderRef:Ne,activeIndex:n,setActive:ge}),Me(a),X&&X(e,a)}})),Ze=Object(y.a)((function(e){var t=z(e,be);if(t){var r=Xe({finger:t,values:ke,source:je}).newValue;ge(-1),"touchend"===e.type&&Ce(-1),W&&W(e,r),be.current=void 0;var a=Object(x.a)(Ne.current);a.removeEventListener("mousemove",We),a.removeEventListener("mouseup",Ze),a.removeEventListener("touchmove",We),a.removeEventListener("touchend",Ze)}})),Je=Object(y.a)((function(e){e.preventDefault();var t=e.changedTouches[0];null!=t&&(be.current=t.identifier);var r=z(e,be),a=Xe({finger:r,values:ke,source:je}),n=a.newValue,o=a.activeIndex;A({sliderRef:Ne,activeIndex:o,setActive:ge}),Me(n),X&&X(e,n);var i=Object(x.a)(Ne.current);i.addEventListener("touchmove",We),i.addEventListener("touchend",Ze)}));o.useEffect((function(){var e=Ne.current;e.addEventListener("touchstart",Je);var t=Object(x.a)(e);return function(){e.removeEventListener("touchstart",Je),t.removeEventListener("mousemove",We),t.removeEventListener("mouseup",Ze),t.removeEventListener("touchmove",We),t.removeEventListener("touchend",Ze)}}),[Ze,We,Je]);var Ke=Object(y.a)((function(e){Z&&Z(e),e.preventDefault();var t=z(e,be),r=Xe({finger:t,values:ke,source:je}),a=r.newValue,n=r.activeIndex;A({sliderRef:Ne,activeIndex:n,setActive:ge}),Me(a),X&&X(e,a);var o=Object(x.a)(Ne.current);o.addEventListener("mousemove",We),o.addEventListener("mouseup",Ze)})),Qe=E(Le?ke[0]:q,q,Y),Ge=E(ke[ke.length-1],q,Y)-Qe,et=Object(a.a)({},T[Ue].offset(Qe),T[Ue].leap(Ge));return o.createElement(p,Object(a.a)({ref:Fe,className:Object(m.a)(l.root,l["color".concat(Object(O.a)(d))],u,P&&l.disabled,ze.length>0&&ze.some((function(e){return e.label}))&&l.marked,!1===oe&&l.trackFalse,"vertical"===K&&l.vertical,"inverted"===oe&&l.trackInverted),onMouseDown:Ke},ve),o.createElement("span",{className:l.rail}),o.createElement("span",{className:l.track,style:et}),o.createElement("input",{value:ke.join(","),name:U,type:"hidden"}),ze.map((function(e,t){var r,a=E(e.value,q,Y),n=T[Ue].offset(a);return r=!1===oe?-1!==ke.indexOf(e.value):"normal"===oe&&(Le?e.value>=ke[0]&&e.value<=ke[ke.length-1]:e.value<=ke[0])||"inverted"===oe&&(Le?e.value<=ke[0]||e.value>=ke[ke.length-1]:e.value>=ke[0]),o.createElement(o.Fragment,{key:e.value},o.createElement("span",{style:n,"data-index":t,className:Object(m.a)(l.mark,r&&l.markActive)}),null!=e.label?o.createElement("span",{"aria-hidden":!0,"data-index":t,style:n,className:Object(m.a)(l.markLabel,r&&l.markLabelActive)},e.label):null)})),ke.map((function(e,t){var a=E(e,q,Y),n=T[Ue].offset(a);return o.createElement(le,{key:t,valueLabelFormat:fe,valueLabelDisplay:se,className:l.valueLabel,value:"function"===typeof fe?fe(G(e),t):fe,index:t,open:ye===t||pe===t||"on"===se,disabled:P},o.createElement(ae,{className:Object(m.a)(l.thumb,l["thumbColor".concat(Object(O.a)(d))],pe===t&&l.active,P&&l.disabled,Re===t&&l.focusVisible),tabIndex:P?null:0,role:"slider",style:n,"data-index":t,"aria-label":F?F(t):r,"aria-labelledby":i,"aria-orientation":K,"aria-valuemax":G(Y),"aria-valuemin":G(q),"aria-valuenow":G(e),"aria-valuetext":H?H(G(e),t):c,onKeyDown:Be,onFocus:He,onBlur:De,onMouseOver:_e,onMouseLeave:$e}))})))})),N=Object(b.a)((function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===e.palette.type?Object(p.d)(e.palette.primary.main,.62):Object(p.a)(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(p.b)(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(p.b)(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(p.b)(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(p.b)(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:Object(a.a)({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}}),{name:"MuiSlider"})(V),P=r("gd/W"),F=r("tVbE"),H=r("IsqK"),D=o.forwardRef((function(e,t){var r=e.classes,n=e.className,i=Object(v.a)(e,["classes","className"]);return(o.createElement("div",Object(a.a)({className:Object(m.a)(r.root,n),ref:t},i)))}));D.muiName="ListItemSecondaryAction";var _=Object(b.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(D),$=r("zkWZ"),Y=r("MBC9"),B=r("cnJa"),q=r.n(B),U=r("I+XF"),X=r.n(U),W=r("ROMh"),Z=r.n(W),J=r("/VUz"),K=r.n(J),Q=r("pOBz"),G=r.n(Q),ee=r("VTYz"),te=r.n(ee),re=r("TCPY"),ae=r.n(re),ne=r("23aj"),oe=i.a.createElement;function ie(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ce(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var le=192,ue=108,se=Object(l.a)((function(e){return{canvas:{width:"100%",height:"100%",background:e.palette.background.default},toolbar:{position:"absolute",right:e.spacing(2),top:64+e.spacing(2)},scaleIndicator:{position:"absolute",right:e.spacing(2),bottom:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"center",width:200,height:56,paddingLeft:e.spacing(2),"&>p":{whiteSpace:"nowrap",fontSize:12}},slider:{marginRight:e.spacing(1),marginLeft:e.spacing(1)},contextMenu:{padding:e.spacing(2)},thirtyFootIndicator:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",borderTopColor:"transparent",borderLeftColor:"black",borderRightColor:"black",borderBottomColor:"black",color:"black",textAlign:"center",borderStyle:"solid",borderWidth:2}}}));function de(e,t){var r,a=e/le,n=t/ue,o=0,i=0;return le*n>e?(r=a,i=(t-ue*a)/2):(r=n,o=(e-le*n)/2),{xOffset:o,scalar:r,yOffset:i}}function fe(){var e=se(),t=Object(c.b)(Object(o.useContext)(ne.UserData)),r=Object(n.a)(t,2),l=r[0],f=r[1],v=Object(o.useRef)(null),m=Object(o.useState)(-1),b=m[0],h=m[1],p=Object(c.a)(),g=Object(n.a)(p,2),x=g[0],y=g[1],C=y.width,O=y.height,w=x.ref.current,j=Object(o.useRef)({x:0,y:0,lastX:0,lastY:0,justClicked:!1,down:!1}),M=l.current.entries[l.current.selectedIndex];Object(o.useEffect)((function(){var e;if(null!==w){var t=w.getContext("2d");t.imageSmoothingEnabled=!1;var r=function(e){return 0===e.button&&(j.current.down=!0,j.current.justClicked=!0),!1},a=function(e){j.current.down||(j.current.lastX=j.current.x,j.current.lastY=j.current.y),j.current.x=e.offsetX,j.current.y=e.offsetY},o=0,i=Object(u.a)((function(){l.current.entries[l.current.selectedIndex].mapData=c.toDataURL("image/png"),f()}),200),c=document.createElement("canvas");c.width=le,c.height=ue;var s=c.getContext("2d");if(s.fillStyle="white",s.fillRect(0,0,c.width,c.height),null===(e=l.current.entries[l.current.selectedIndex])||void 0===e?void 0:e.mapData){var d=new Image;d.onload=function(){s.drawImage(d,0,0),d.remove()},d.src=l.current.entries[l.current.selectedIndex].mapData}else i();return function e(){t.fillStyle="#303030",t.fillRect(0,0,w.width,w.height),t.imageSmoothingEnabled=!1,s.imageSmoothingEnabled=!1;var r=de(w.width,w.height),a=r.xOffset,u=r.scalar,d=r.yOffset,f=function(e,t){return{x:(e-a)/u,y:(t-d)/u}};if("fill"===l.current.tools.selectedTool){if(j.current.justClicked){var m=f(j.current.x,j.current.y),b=v().substring(1);b="ff"+b.substring(4,6)+b.substring(2,4)+b.substring(0,2),function(e,t,r,a){function o(e,t,r){return t<0||r<0||t>=e.width||r>=e.height?-1:e.data[r*e.width+t]}var i=e.getImageData(0,0,le,ue),c={width:i.width,height:i.height,data:new Uint32Array(i.data.buffer)},l=o(c,t,r),u=function(e){return[255&e,e>>8&255,e>>16&255]},s=function(e,t){var r=u(e),a=Object(n.a)(r,3),o=a[0],i=a[1],c=a[2],l=u(t),s=Object(n.a)(l,3);return[o-s[0],i-s[1],c-s[2]]},d=function(e){var t=Object(n.a)(e,3),r=t[0],a=t[1],o=t[2];return Math.abs(r)<12.75&&Math.abs(o)<12.75&&Math.abs(a)<12.75};function f(e,t,r){return(1-r)*e+r*t}var v=function(e,t,r){var a=Object(n.a)(t,3),o=a[0],i=a[1],c=a[2],l=u(e),s=Object(n.a)(l,3),d=s[0],v=s[1],m=s[2];return f(d,o,r)+(f(v,i,r)<<8)+(f(m,c,r)<<16)+4278190080},m=new Set,b=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,0],[0,1],[1,-1],[1,0],[1,1]],h=[];if(l!==a){for(var p=[t,r];p.length>0;){var g=p.pop(),x=p.pop();if(!m.has(x+" "+g)){m.add(x+" "+g);var y=o(c,x,g);if(d(s(y,l)))h.push({x:x,y:g,color:a}),x<c.width-1&&p.push(x+1,g),x>0&&p.push(x-1,g),g<c.height-1&&p.push(x,g+1),g>0&&p.push(x,g-1);else{0;for(var C=0,O=0,w=0;w<b.length;w++){var j=b[w],M=x+j[0],L=g+j[1];if(!(M<0||M>c.width-1||L<0||L>c.height-1)){var k=s(o(c,M,L),l);0;var z=k.reduce((function(e,t){return e+Math.abs(t)}),0)/3;z>C&&(C=z,O=w)}}0;for(var E=o(c,x+b[O][0],g+b[O][1]),S=s(E,l),I=u(l),A=u(y),T=u(E),R=0,V=0;V<3;V++)R+=(A[V]-I[V])/S[V];R/=3;var N=v(a,T,R=Math.max(0,Math.min(1,R)));0,h.push({x:x,y:g,color:N})}}}0;var P,F=ie(h);try{for(F.s();!(P=F.n()).done;){var H=P.value;c.data[H.y*c.width+H.x]=H.color}}catch(D){F.e(D)}finally{F.f()}e.putImageData(i,0,0)}}(s,Math.floor(m.x),Math.floor(m.y),parseInt(b,16)),i()}}else if(j.current.down){var h=f(j.current.lastX,j.current.lastY),p=f(j.current.x,j.current.y);s.strokeStyle=v(),s.beginPath(),s.moveTo(h.x,h.y),j.current.lastX=j.current.x,j.current.lastY=j.current.y,s.lineTo(p.x,p.y),s.lineWidth=l.current.tools.brushSize/u*2,s.lineCap="round",s.stroke(),i()}if(t.drawImage(c,0,0,le,ue,a,d,le*u,ue*u),"fill"===l.current.tools.selectedTool){t.beginPath();t.moveTo(j.current.x-10,j.current.y-10),t.lineTo(j.current.x+10,j.current.y+10),t.moveTo(j.current.x+10,j.current.y-10),t.lineTo(j.current.x-10,j.current.y+10),t.stroke()}else t.beginPath(),t.arc(j.current.x,j.current.y,l.current.tools.brushSize,0,2*Math.PI),t.stroke();var g=j.current.x>a&&j.current.x<a+le*u&&j.current.y>d&&j.current.y<d+ue*u;w.style.cursor=g?"none":"inherit",j.current.justClicked=!1,o=requestAnimationFrame(e)}(),w.addEventListener("mousemove",a),w.addEventListener("mousedown",r),function(){w.removeEventListener("mousemove",a),w.removeEventListener("mousedown",r),cancelAnimationFrame(o),c.remove()}}function v(){if("eraser"===l.current.tools.selectedTool)return"#ffffff";switch(l.current.tools.brushType){case"mountain":return"#95a5a6";case"water":return"#41658A";case"grass":return"#70A37F";case"sand":return"#debb83";case"dirt":return"#5C4742"}}}),[w,l.current.selectedIndex]);var L=function(){j.current.down=!1},k=de(C,O).scalar;return oe(i.a.Fragment,null,oe("canvas",Object(a.a)({width:C,height:O,className:e.canvas},x,{onMouseUp:L,onMouseOut:L,onContextMenu:function(e){e.preventDefault(),v.current.setOpen({open:!0,x:j.current.x+w.offsetLeft,y:j.current.y+w.offsetTop})},onWheel:function(e){l.current.tools.brushSize=Math.min(100,Math.max(10,l.current.tools.brushSize+Math.round(e.deltaY/20))),f()}})),oe(s.a,{className:e.toolbar},oe($.a,{size:"large",exclusive:!0,orientation:"vertical",value:l.current.tools.selectedTool,onChange:function(e,t){null!==t&&(l.current.tools.selectedTool=t,f())}},oe(Y.a,{value:"pencil"},oe(q.a,null)),oe(Y.a,{value:"eraser"},oe(Z.a,null)),oe(Y.a,{value:"fill"},oe(X.a,null)))),oe(s.a,{className:e.scaleIndicator},oe(d.a,null,(-1===b?M.feetPerPixel:b).toFixed(2)," ",1===M.feetPerPixel?"foot":"feet"," / pixel"),oe(N,{className:e.slider,color:"secondary",value:-1===b?M.feetPerPixel:b,min:.25,max:3.5,step:.25,onChange:function(e,t){0!==(t=t)&&h(t)},onChangeCommitted:function(e,t){h(-1),0!==(t=t)&&(M.feetPerPixel=t,f())}})),-1!==b&&oe("div",{className:e.thirtyFootIndicator,style:{width:30*k/b}},"30 feet"),oe(ve,{ref:v,classes:e}))}var ve=Object(o.forwardRef)((function(e,t){var r=e.classes,a=Object(c.b)(Object(o.useContext)(ne.UserData)),i=Object(n.a)(a,2),l=i[0],u=i[1],s=Object(o.useState)(l.current.tools.brushSize),d=s[0],f=s[1];Object(o.useEffect)((function(){f(l.current.tools.brushSize)}),[l.current.tools.brushSize]);var v=Object(o.useState)({open:!1,x:0,y:0}),m=v[0],b=v[1];Object(o.useImperativeHandle)(t,(function(){return{setOpen:b}}));var h=function(){return b({x:0,y:0,open:!1})};return oe(P.a,{transitionDuration:{exit:0},keepMounted:!0,open:m.open,onClose:h,PaperProps:{className:r.contextMenu},anchorReference:"anchorPosition",anchorPosition:{top:m.y,left:m.x}},oe($.a,{size:"large",exclusive:!0,value:l.current.tools.brushType,onChange:function(e,t){null!==t&&(l.current.tools.brushType=t,u(),h())}},oe(Y.a,{value:"mountain"},oe(K.a,{htmlColor:"#95a5a6"})),oe(Y.a,{value:"water"},oe(te.a,{htmlColor:"#41658A"})),oe(Y.a,{value:"grass"},oe(ae.a,{htmlColor:"#70A37F"})),oe(Y.a,{value:"sand"},oe(G.a,{htmlColor:"#debb83"})),oe(Y.a,{value:"dirt"},oe(G.a,{htmlColor:"#815348"}))),oe(F.a,null,oe(H.a,{primary:"Size"}),oe(_,null,d)),oe(N,{min:5,color:"secondary",value:d,onChange:function(e,t){return f(t)},onChangeCommitted:function(e,t){l.current.tools.brushSize=t,u(),h()}}))}))},ROMh:function(e,t,r){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,((a=r("wvMB"))&&a.__esModule?a:{default:a}).default)("M16.24,3.56L21.19,8.5C21.97,9.29 21.97,10.55 21.19,11.34L12,20.53C10.44,22.09 7.91,22.09 6.34,20.53L2.81,17C2.03,16.21 2.03,14.95 2.81,14.16L13.41,3.56C14.2,2.78 15.46,2.78 16.24,3.56M4.22,15.58L7.76,19.11C8.54,19.9 9.8,19.9 10.59,19.11L14.12,15.58L9.17,10.63L4.22,15.58Z");t.default=n},TCPY:function(e,t,r){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,((a=r("wvMB"))&&a.__esModule?a:{default:a}).default)("M12 20H2V18H7.75C7 15.19 4.81 13 2 12.26C2.64 12.1 3.31 12 4 12C8.42 12 12 15.58 12 20M22 12.26C21.36 12.1 20.69 12 20 12C17.07 12 14.5 13.58 13.12 15.93C13.41 16.59 13.65 17.28 13.79 18C13.92 18.65 14 19.32 14 20H22V18H16.24C17 15.19 19.19 13 22 12.26M15.64 11C16.42 8.93 17.87 7.18 19.73 6C15.44 6.16 12 9.67 12 14V14C12.95 12.75 14.2 11.72 15.64 11M11.42 8.85C10.58 6.66 8.88 4.89 6.7 4C8.14 5.86 9 8.18 9 10.71C9 10.92 8.97 11.12 8.96 11.32C9.39 11.56 9.79 11.84 10.18 12.14C10.39 10.96 10.83 9.85 11.42 8.85Z");t.default=n},VTYz:function(e,t,r){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,((a=r("wvMB"))&&a.__esModule?a:{default:a}).default)("M20,12H22V14H20C18.62,14 17.26,13.65 16,13C13.5,14.3 10.5,14.3 8,13C6.74,13.65 5.37,14 4,14H2V12H4C5.39,12 6.78,11.53 8,10.67C10.44,12.38 13.56,12.38 16,10.67C17.22,11.53 18.61,12 20,12M20,6H22V8H20C18.62,8 17.26,7.65 16,7C13.5,8.3 10.5,8.3 8,7C6.74,7.65 5.37,8 4,8H2V6H4C5.39,6 6.78,5.53 8,4.67C10.44,6.38 13.56,6.38 16,4.67C17.22,5.53 18.61,6 20,6M20,18H22V20H20C18.62,20 17.26,19.65 16,19C13.5,20.3 10.5,20.3 8,19C6.74,19.65 5.37,20 4,20H2V18H4C5.39,18 6.78,17.53 8,16.67C10.44,18.38 13.56,18.38 16,16.67C17.22,17.53 18.61,18 20,18Z");t.default=n},cnJa:function(e,t,r){"use strict";var a=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r("q1tI")),o=(0,a(r("8/g6")).default)(n.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06.92.92L5.92 19zM20.71 5.63l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41z"}),"CreateOutlined");t.default=o},pOBz:function(e,t,r){"use strict";var a=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r("q1tI")),o=(0,a(r("8/g6")).default)(n.default.createElement("path",{d:"M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"}),"BlurOn");t.default=o}}]);